# Copyright 2025 Dell Inc. or its subsidiaries. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
---

# ***********************************************************************
# DO NOT REMOVE OR COMMENT OUT ANY LINES IN THIS FILE.
# SIMPLY APPEND THE REQUIRD VALUES AGAINST THE PARAMETER OF YOUR CHOICE.
# ***********************************************************************

# -----------------------------SLURM------------------------------------------------

# This variable accepts whether slurm installation is supported in configless mode or slurm in nfs
# Default value is "configless"
# If the value is "nfs_share", then share_path has to be mentioned
# Slurm should be installed in share_path when slurm_installation_type is set to nfs_share
slurm_installation_type: "configless"

# Variable indicates whether slurm control node services(slurmctld) should be restarted or not
# If restart_slurm_services is set to true, slurmctld services will be restarted on every execution of omnia.yml.
# It accepts true and false values
# Default value is true
restart_slurm_services: true

# ----------------------------K8S------------------------------------------------------


service_k8s_cluster:
  - cluster_name: service_cluster1
    deployment: "true"
    k8s_cni: "calico"
    pod_external_ip_range: ""
    k8s_service_addresses: "10.233.0.0/18"
    k8s_pod_network_cidr: "10.233.64.0/18"
    topology_manager_policy: "none"
    topology_manager_scope: "container"
    k8s_offline_install: true

  - cluster_name: service_cluster2
    deployment: "false"
    k8s_cni: "calico"
    pod_external_ip_range: ""
    k8s_service_addresses: "10.233.0.0/18"
    k8s_pod_network_cidr: "10.233.64.0/18"
    topology_manager_policy: "none"
    topology_manager_scope: "container"
    k8s_offline_install: true

compute_k8s_cluster:
  - cluster_name: compute_cluster1
    deployment: "true"
    k8s_cni: "calico"
    pod_external_ip_range: ""
    k8s_service_addresses: "10.233.0.0/18"
    k8s_pod_network_cidr: "10.233.64.0/18"
    topology_manager_policy: "none"
    topology_manager_scope: "container"
    k8s_offline_install: true

  - cluster_name: compute_cluster2
    k8s_cni: "calico"
    deployment: "false"
    pod_external_ip_range: ""
    k8s_service_addresses: "10.233.0.0/18"
    k8s_pod_network_cidr: "10.233.64.0/18"
    topology_manager_policy: "none"
    topology_manager_scope: "container"
    k8s_offline_install: true

# ----------------------------VERIFY INTEL GAUDI INSTALLATION------------------------------------------------------

# It's recommended to do extensive tests hl_qual and hccl when installing a new Gaudi node. This takes around 20mins.
# To do that during provisioning this variable has to be set to true.
# By default  no tests are run
run_intel_gaudi_tests: false
